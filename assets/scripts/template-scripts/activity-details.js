function initActivityForm(){const e=document.querySelectorAll(".js-open-activity-form"),t=document.getElementById("js-activity-form");function n(){t.classList.add("is-hidden"),t.removeEventListener("mousedown",o);const e=parseInt(document.documentElement.style.top||"0");document.documentElement.classList.remove("modal__opened"),window.scrollTo(0,-e),document.documentElement.style.scrollBehavior="smooth"}function o(e){e.target===t&&n()}function c(e){"Escape"===e.key&&(e.preventDefault(),n(),window.removeEventListener("keydown",c))}jQuery(document).ready((function(d){e&&e.forEach((e=>{e.addEventListener("click",(function(i){i.preventDefault();function s(){d(e).next(".button__loader").show()}function a(){d(e).next(".button__loader").hide()}!function(e){var i={action:"get_post_activity",nonce:activity.nonce,postId:e};d.ajax({url:activity.ajaxUrl,type:"post",data:i,beforeSend:s,success:function(e){a(),d(".activity-modal").html(e.html),function(){const e=window.scrollY;document.documentElement.style.scrollBehavior="auto",t.classList.remove("is-hidden"),document.documentElement.classList.add("modal__opened"),t.addEventListener("mousedown",o),window.addEventListener("keydown",c),document.documentElement.style.top=`-${e}px`}();document.getElementById("js-close-activity-form").addEventListener("click",n)},error:function(e,t,n){a(),console.error("Request failed: "+n)}})}(e.dataset.postId)}))}))}))}