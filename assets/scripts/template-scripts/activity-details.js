jQuery(document).ready((function(e){document.querySelectorAll(".js-open-activity-form").forEach((t=>{t.addEventListener("click",(function(n){n.preventDefault();function o(){e(".activity-modal .loader").show()}function c(){e(".activity-modal .loader").hide()}!function(t){var n={action:"get_post_activity",nonce:activity.nonce,postId:t};e.ajax({url:activity.ajaxUrl,type:"post",data:n,beforeSend:o,success:function(t){c(),e(".activity-modal").html(t.html)},error:function(e,t,n){c(),console.error("Request failed: "+n)}})}(t.dataset.postId)}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".js-open-activity-form"),t=document.getElementById("js-activity-form");if(e){function n(){const e=window.scrollY;document.documentElement.style.scrollBehavior="auto",t.classList.remove("is-hidden"),t.addEventListener("mousedown",c),window.addEventListener("keydown",d),document.documentElement.classList.add("modal__opened"),document.documentElement.style.top=`-${e}px`}function o(){t.classList.add("is-hidden"),t.removeEventListener("mousedown",c);const e=parseInt(document.documentElement.style.top||"0");document.documentElement.classList.remove("modal__opened"),window.scrollTo(0,-e),document.documentElement.style.scrollBehavior="smooth"}function c(e){e.target===t&&o()}function d(e){"Escape"===e.key&&(e.preventDefault(),o(),window.removeEventListener("keydown",d))}e.forEach((e=>{e.addEventListener("click",n)}))}}));